{
  "clause_id": "C-COMMANDS",
  "title": "Command Reference",
  "kind": "normative",
  "status": "active",
  "text": "This RFC defines the command-line interface for cursor-helper.\n\n## Foundation Commands\n\n### `cursor-helper list`\n\nList all Cursor projects.\n\n```\ncursor-helper list [--with-hash] [--with-chat-count]\n```\n\n**Flags:**\n- `--with-hash`: Show workspace hash for each project\n- `--with-chat-count`: Show number of chat sessions\n\n**Output:** Table with columns: Path, Last Opened, Chat Count (optional), Hash (optional)\n\n---\n\n### `cursor-helper stats`\n\nShow usage statistics for a project.\n\n```\ncursor-helper stats [<project-path>]\n```\n\nIf `<project-path>` is omitted, prompt to select from known projects.\n\n**Metrics:**\n- Chat session count\n- Tokens used (if available)\n- Files changed\n- Time spent (if available)\n\n---\n\n## Data Management Commands\n\n### `cursor-helper export-chat`\n\nExport chat history to a readable format.\n\n```\ncursor-helper export-chat <project-path> [--format=md|json]\n```\n\n**Format:**\n- `md`: Markdown with conversation structure\n- `json`: Full fidelity with metadata\n\n---\n\n### `cursor-helper clean`\n\nRemove orphaned workspace storage.\n\n```\ncursor-helper clean [--dry-run]\n```\n\nOrphaned = workspace storage exists but project folder does not.\n\n**Behavior:**\n- `--dry-run` (default): Show what would be deleted, ask confirmation\n- Without `--dry-run`: Require explicit `--yes` flag\n\n---\n\n## Backup and Restore Commands\n\n### `cursor-helper backup`\n\nBackup all Cursor metadata for a project.\n\n```\ncursor-helper backup <project-path> <backup-file>\n```\n\nCreates a gzipped tar archive containing:\n- `workspaceStorage/` contents\n- `projects/` entry if exists\n\n---\n\n### `cursor-helper restore`\n\nRestore a project from backup.\n\n```\ncursor-helper restore <backup-file> <new-path>\n```\n\nRestores to new location, preserving all chat history.\n\n---\n\n## Advanced Commands\n\n### `cursor-helper clone`\n\nClone a project with full chat history to a new location.\n\n```\ncursor-helper clone <old-path> <new-path>\n```\n\nUnlike `rename`:\n- Creates new UUIDs for all references\n- Original project remains intact\n- Both projects have independent chat history\n\n---\n\n### `cursor-helper rename`\n\nRename a project (already implemented).\n\n```\ncursor-helper rename <old-path> <new-path>\n```\n\nUpdates all Cursor metadata to reflect the new path.\n\n**Behavior:**\n- Updates workspace hash\n- Updates folder ID slug\n- Migrates workspace storage directory",
  "since": "0.1.0"
}
